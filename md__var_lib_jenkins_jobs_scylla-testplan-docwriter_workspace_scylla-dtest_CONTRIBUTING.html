<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Scylla Tests: Scylla Distributed Tests - Coding Style</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ScyllaDB Logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Scylla Tests
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md__var_lib_jenkins_jobs_scylla-testplan-docwriter_workspace_scylla-dtest_CONTRIBUTING.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Scylla Distributed Tests - Coding Style </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Style</h2>
<p>We plan to move to Python 3 in the near future. Where possible, new code should be Python 3-compatible. In particular:</p>
<ul>
<li>favor <code>format</code> over <code>%</code> for formatting strings.</li>
<li>use the <code>/</code> on numbers in a Python 3-compatible way. In particular, if you want floor division (which is the behavior of <code>/</code> in Python 2), use <code>//</code> instead. If you want the result of integer division to be a <code>float</code> (e.g. <code>1 / 2 == 0.5</code>), add <code>from __future__ import division</code> to the top of the imports and use <code>/</code>. For more infomration, see <a href="https://docs.python.org/3/howto/pyporting.html#division">the official Python 3 porting docs</a>.</li>
<li>use <code>absolute_imports</code> and <code>unicode_literals</code> in new test files.</li>
</ul>
<p>Contributions will be evaluated by PEP8. We now strictly enforce compliance, via a linter run with Travis CI against all new pull requests. We do not enforce the default limits on line length, but have established a maximum length of 200 chars as a sanity check. You can conform to PEP8 by running <code>autopep8</code> which can be installed via <code>pip</code>. <code>pip install autopep8 &amp;&amp; autopep8 --in-place -a --ignore E501</code></p>
<p>We do not enforce import sorting, but if you choose to organize imports by some convention, use the <code>isort</code> tool (<code>pip install isort</code>).</p>
<p>Please use <code>session</code>, and not <code>cursor</code> when naming your connection variables, to match the style preferred by the DataStax Python Driver, which is how these tests connect to C*.</p>
<h2>Doxygen Docstrings</h2>
<p>We are now colocating our test plans directly with the source code. We have decided to do so in a manner compatible with Doxygen, to turn the test plans into easily navigated HTML. Please view the following list of tags, as well as an example test. While this full list of tags is available for use, there is no need to use every tag for a given test. The description and since fields should be included, but most others should only be used when appropriate. The test plan will live in a comment block below the test method declaration.</p>
<table class="doxtable">
<tr>
<th>Input </th><th>Description  </th></tr>
<tr>
<td>Test name </td><td>Name of the test </td></tr>
<tr>
<td>Description </td><td>Brief description of the test </td></tr>
<tr>
<td><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">&lt;td&gt;</td><td>Description of Parameter 1 (Usually used for helper methods) </td></tr>
  </table>
  </dd>
</dl>
</td></tr>
<tr>
<td><dl class="section return"><dt>Returns</dt><dd></dd></dl>
</td><td>Description of expected return value (Usually used for helper methods) </td></tr>
</table>
<dl class="section user"><dt>Expected Errors</dt><dd>| What exceptions this test is expected to throw on normal behavior (should be caught and expected in the test) </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">|</td><td>What exceptions this test would throw upon failure (if expecting a specific regression) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>| I am unsure what we will use this for. Do not use until we have reached a decision. </dd></dl>
<dl class="section user"><dt>JIRA Ticket</dt><dd>| Associated JIRA ticket identifier, including the project name (e.g. <code>CASSANDRA-42</code>, not <code>42</code>). </dd></dl>
<dl class="section user"><dt>Expected Result</dt><dd>| Brief summary of what the expected results of this test are </dd></dl>
<dl class="section user"><dt>Test Assumptions</dt><dd>| Test requirements (auth, hints disabled , etc) </dd></dl>
<dl class="section note"><dt>Note</dt><dd>| (future improvments, todo, etc) </dd></dl>
<dl class="section user"><dt>Test Category</dt><dd>| What categories this test falls under (deprecated)</dd></dl>
<pre class="fragment">    ##
    # 
    #         Demonstrates the expected syntax for a test plan. Parsed by Doxygen.
    #         \par JIRA Ticket
</pre><p> CASSANDRA-0000 </p><h1>2.0.15, 2.1.5</h1>
<h1>Test should not be implemented, it is an example.</h1>
<h1></h1>
<p>def example_test(self): pass</p>
<p>To run doxygen to generate HTML from these test plans, you will need to do the following</p>
<ul>
<li>Unzip doxygen/doxypy-0.4.2.tar.gz and install it cd doxygen/ tar xvf doxypy-0.4.2.tar.gz cd doxypy-0.4.2 sudo python setup.py install</li>
<li>Install doxygen, via your system's package manager</li>
<li>Edit the INPUT and OUTPUT_DIRECTORY fields in doxygen/Doxyfile_python. They must be absolute paths. INPUT should point to cassandra-dtest/.</li>
<li>Run doxygen doxygen doxygen/Doxyfile_python</li>
</ul>
<p>Feel free to submit test plans without the implemented tests. If you are submitting a new test, we would appreciate if it were annotated in this manner. If that is not possible, we will add the markup to your pull request.</p>
<h2>Modules</h2>
<p>In some cases, we organize our test files by putting them in directories. If you do so, please export a module from that direcory py placing an `__init__.py file in the directory with the test files. This makes the modules visible to our test infrastructure scripts that divide tests into buckets for CI. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Feb 14 2017 22:50:43 for Scylla Tests by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
